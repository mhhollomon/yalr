<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="622px" preserveAspectRatio="none" style="width:1240px;height:622px;" version="1.1" viewBox="0 0 1240 622" width="1240px" zoomAndPan="magnify"><defs><filter height="300%" id="fu94usnm0f7wp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[3e81cc6ee7da4fa8b6adc12b329096f6]
cluster util--><polygon fill="#FFFFFF" filter="url(#fu94usnm0f7wp)" points="1072.5,42.5,1100.5,42.5,1107.5,65.2999,1218.5,65.2999,1218.5,153.5,1072.5,153.5,1072.5,42.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1072.5" x2="1107.5" y1="65.2999" y2="65.2999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="1076.5" y="57.5059">util</text><!--MD5=[092f0aec5c224e6a9436ff9de38591f6]
cluster constants--><polygon fill="#FFFFFF" filter="url(#fu94usnm0f7wp)" points="832.5,29.5,907.5,29.5,914.5,52.2999,1048.5,52.2999,1048.5,423.5,832.5,423.5,832.5,29.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="832.5" x2="914.5" y1="52.2999" y2="52.2999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="836.5" y="44.5059">constants</text><!--MD5=[706371339d94ae8c95bd67c125269c47]
cluster std--><polygon fill="#FFFFFF" filter="url(#fu94usnm0f7wp)" points="754.5,310.5,782.5,310.5,789.5,333.2999,808.5,333.2999,808.5,385.5,754.5,385.5,754.5,310.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="754.5" x2="789.5" y1="333.2999" y2="333.2999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="758.5" y="325.5059">std</text><!--MD5=[089ff909d279dfce5e629c13a11053c1]
class util::identifier_t--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="60.0001" id="util::identifier_t" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1088.5" y="77.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="1113" y="93.6481">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="1117" y="108.0482">identifier_t</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1089.5" x2="1201.5" y1="116.3002" y2="116.3002"/><ellipse cx="1099.5" cy="127.3002" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="88" x="1108.5" y="130.5191">get_next_id() -&gt; id</text><!--MD5=[6d26646e8e7c1a7fd7a289b2ce104849]
class constants::assoc_type--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="86.3999" id="constants::assoc_type" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="851.5" y="64.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="863" y="80.6481">«enum»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="854.5" y="95.0482">assoc_type</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="852.5" x2="918.5" y1="103.3002" y2="103.3002"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="857.5" y="117.5191">undef</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="857.5" y="130.719">left</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="857.5" y="143.9189">right</text><!--MD5=[8cd58c3a385377f6faae6cd8f588923f]
class constants::case_type--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="86.3999" id="constants::case_type" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="954.5" y="64.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="963" y="80.6481">«enum»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="957.5" y="95.0482">case_type</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="955.5" x2="1015.5" y1="103.3002" y2="103.3002"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="960.5" y="117.5191">undef</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="960.5" y="130.719">match</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="960.5" y="143.9189">fold</text><!--MD5=[c8b862c0768af93ad56ecc5d6e15b1cc]
class constants::symbol_type--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="99.5998" id="constants::symbol_type" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="848" y="307.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="863" y="323.6481">«enum»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="851" y="338.0482">symbol_type</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="849" x2="922" y1="346.3002" y2="346.3002"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="854" y="360.5191">invalid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="854" y="373.719">terminal</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="854" y="386.9189">skip</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="854" y="400.1188">rule</text><!--MD5=[92845f06446b923d77d9044225bebd6f]
class constants::pattern_type--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="86.3999" id="constants::pattern_type" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="958.5" y="314.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="973" y="330.6481">«enum»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="961.5" y="345.0482">pattern_type</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="959.5" x2="1031.5" y1="353.3002" y2="353.3002"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="964.5" y="367.5191">undef</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="964.5" y="380.719">string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="964.5" y="393.9189">regex</text><!--MD5=[53ef039c5563dc2b09e5332b70f7ed10]
class std::set--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="24.4001" id="std::set" style="stroke: #A80036; stroke-width: 1.5;" width="22" x="770.5" y="345.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="16" x="773.5" y="361.6481">set</text><!--MD5=[8a6cd4952bc9b17a36970cb7aca8e312]
class symbol_identifier_t--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="38.8002" id="symbol_identifier_t" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1091" y="338"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="1113" y="354.1481">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="1094" y="368.5482">symbol_identifier_t</text><!--MD5=[23a8b0c5ba36a5ce52242c1e44b06a77]
class terminal_symbol--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="198.7989" id="terminal_symbol" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="6" y="8"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="46.5" y="24.1481">terminal_symbol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="176" y1="32.4001" y2="32.4001"/><ellipse cx="17" cy="43.4001" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="26" y="46.619">id: symbol_identifier_t {id}</text><ellipse cx="17" cy="56.6" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="26" y="59.8189">is_inline: bool</text><ellipse cx="17" cy="69.7999" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="26" y="73.0188">name: std::string_view</text><ellipse cx="17" cy="82.9998" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="26" y="86.2187">token_name : std::string_view</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="26" y="99.4186">type_str: st::string_view</text><ellipse cx="17" cy="109.3996" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="26" y="112.6185">pattern: std::string_view</text><ellipse cx="17" cy="122.5995" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="26" y="125.8184">action: std::string_view</text><ellipse cx="17" cy="135.7994" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="26" y="139.0183">associativity: assoc_type</text><ellipse cx="17" cy="148.9993" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="26" y="152.2182">precedence: ?int</text><ellipse cx="17" cy="162.1992" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="26" y="165.4181">case_match: case_type</text><ellipse cx="17" cy="175.3991" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="26" y="178.618">pat_type: pattern_type</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="176" y1="185.599" y2="185.599"/><ellipse cx="17" cy="196.599" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="113" x="26" y="199.8179">create(t: terminal_stmt)</text><!--MD5=[de2bc017c2c8ba1f151a915df8f574d3]
class skip_symbol--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="132.7994" id="skip_symbol" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="212" y="41"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="263.5" y="57.1481">skip_symbol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="213" x2="382" y1="65.4001" y2="65.4001"/><ellipse cx="223" cy="76.4001" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="232" y="79.619">id: symbol_identifier_t {id}</text><ellipse cx="223" cy="89.6" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="232" y="92.8189">name: std:string_view</text><ellipse cx="223" cy="102.7999" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="232" y="106.0188">pattern: st::string_view</text><ellipse cx="223" cy="115.9998" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="232" y="119.2187">token_name : std::string_view</text><ellipse cx="223" cy="129.1997" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="232" y="132.4186">case_match: case_type</text><ellipse cx="223" cy="142.3996" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="232" y="145.6185">pat_type: pattern_type</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="213" x2="382" y1="152.5995" y2="152.5995"/><ellipse cx="223" cy="163.5995" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="71" x="232" y="166.8184">create(s: skip)</text><!--MD5=[c2fe6ab6a834d7e1df7952f0a8fd8e9f]
class rule_symbol--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="106.3996" id="rule_symbol" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="418" y="54.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="459" y="70.6481">rule_symbol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419" x2="566" y1="78.9001" y2="78.9001"/><ellipse cx="429" cy="89.9001" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="438" y="93.119">id: symbol_identifier_t {id}</text><ellipse cx="429" cy="103.1" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="438" y="106.3189">name: std:string_view</text><ellipse cx="429" cy="116.2999" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="438" y="119.5188">type_str: st::string_view</text><ellipse cx="429" cy="129.4998" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="438" y="132.7187">isgoal : bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419" x2="566" y1="139.6997" y2="139.6997"/><ellipse cx="429" cy="150.6997" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="94" x="438" y="153.9186">create(r: rule_stmt)</text><!--MD5=[6e15a6a4b10a19f37d05f1aa841050f3]
class symbol_data--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="120.7997" id="symbol_data" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="201.5" y="297"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="272" y="313.1481">«variant»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="262.5" y="327.5482">symbol_data</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="202.5" x2="392.5" y1="335.8002" y2="335.8002"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="207.5" y="350.0191">terminal_symbol</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="207.5" y="363.219">rule_symbol</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="207.5" y="376.4189">skip_symbol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="202.5" x2="392.5" y1="383.3999" y2="383.3999"/><ellipse cx="212.5" cy="394.3999" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="221.5" y="397.6188">id() -&gt; symbol_identifier_t {query}</text><ellipse cx="212.5" cy="407.5998" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="221.5" y="410.8187">name() -&gt; std::string_view {query}</text><!--MD5=[e667bf29d81cc56919811ed70b3f02d2]
class symbol--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="147.1995" id="symbol" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="428.5" y="284"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="501" y="300.1481">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="514" y="314.5482">symbol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.5" x2="637.5" y1="322.8002" y2="322.8002"/><ellipse cx="439.5" cy="333.8002" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="448.5" y="337.0191">id: symbol_identifier_t {query}</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="436.5" y="344.0001"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="448.5" y="350.219">data: symbol_data*</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.5" x2="637.5" y1="357.2" y2="357.2"/><ellipse cx="439.5" cy="368.2" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="448.5" y="371.4189">name() -&gt; std::string_view {query}</text><ellipse cx="439.5" cy="381.3999" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="448.5" y="384.6188">type() -&gt; symbol_type {query}</text><ellipse cx="439.5" cy="394.5998" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="448.5" y="397.8187">typename() -&gt; std:string_view {query}</text><ellipse cx="439.5" cy="407.7997" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="448.5" y="411.0186">get_data&lt;T&gt;() -&gt; T* {query}</text><ellipse cx="439.5" cy="420.9996" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="448.5" y="424.2185">do_visit&lt;T&gt;(visitor: T&amp;) -&gt; ?</text><!--MD5=[de1673828df9aa7ddd7f1f5284b6fabf]
class symbol_table--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="119.5995" id="symbol_table" style="stroke: #A80036; stroke-width: 1.5;" width="399" x="251" y="492"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="414" y="508.1481">symbol_table</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="252" x2="649" y1="516.4001" y2="516.4001"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="259" y="524.4001"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="271" y="530.619">key_map: std::map&lt;std::string, symbol&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="259" y="537.6"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="271" y="543.8189">id_map: std::map&lt;identifier_t, symbol&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="252" x2="649" y1="550.7999" y2="550.7999"/><ellipse cx="262" cy="561.7999" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="271" y="565.0188">find(key :std::string_view) -&gt; ?symbol {query}</text><ellipse cx="262" cy="574.9998" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="271" y="578.2187">find(id :symbol_identifier_t)-&gt; ?symbol {query}</text><ellipse cx="262" cy="588.1997" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="318" x="271" y="591.4186">add&lt;T&gt;(key :std::string_view, t: T) -&gt; (added :bool, sym : symbol)</text><ellipse cx="262" cy="601.3996" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="271" y="604.6185">register_key(key :std::string_view, s: symbol) -&gt; (added :bool, sym : symbol)</text><!--MD5=[e3985ab01d0534e58ec63b0b453b767f]
class symbol_set--><rect fill="#FEFECE" filter="url(#fu94usnm0f7wp)" height="58.7999" id="symbol_set" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="684.5" y="522.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="750.5" y="538.6481">symbol_set</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="685.5" x2="877.5" y1="546.9001" y2="546.9001"/><ellipse cx="695.5" cy="557.9001" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="704.5" y="561.119">contains(s:symbol) -&gt; bool {query}</text><ellipse cx="695.5" cy="571.1" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="704.5" y="574.3189">addset(ss:symbol_set) -&gt; bool</text><!--MD5=[863d6df557e09a741cff7c82f725fe34]
link terminal_symbol to symbol_data--><path d="M173.51,207.23 C198.64,237.49 225.52,269.84 247.8,296.66 " fill="none" id="terminal_symbol-symbol_data" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="208.5" y="250.077">«uses»</text><!--MD5=[e72405e0ccfad135605b91fd4107c5f4]
link rule_symbol to symbol_data--><path d="M451.38,160.79 C420.1,200.58 377.01,255.38 344.38,296.88 " fill="none" id="rule_symbol-symbol_data" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="390.5" y="250.077">«uses»</text><!--MD5=[8cd9d3b8cbc20e5f70df37584cdcadb0]
link skip_symbol to symbol_data--><path d="M297.5,174.31 C297.5,212.34 297.5,259.81 297.5,296.76 " fill="none" id="skip_symbol-symbol_data" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="298.5" y="250.077">«uses»</text><!--MD5=[12886a5c008a5addb76088e37afaeece]
reverse link symbol_data to symbol--><path d="M398.98,357.5 C408.81,357.5 418.65,357.5 428.48,357.5 " fill="none" id="symbol_data&lt;-symbol" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="393.84,357.5,402.84,361.5,398.84,357.5,402.84,353.5,393.84,357.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="401.484" y="354.0334">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="415.584" y="354.0409">*</text><!--MD5=[297ff263fc3258c55ac394645aaa1e18]
reverse link symbol to symbol_set--><path d="M637.55,439.26 C675.56,468.77 716.15,500.27 744.5,522.28 " fill="none" id="symbol&lt;-symbol_set" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="626.9,431,629.1876,437.8386,636.38,438.3572,634.0924,431.5186,626.9,431" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="631.2741" y="451.4508">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="728.1344" y="510.8424">1</text><!--MD5=[40dc25ee4a2cc787bacc7c637882164b]
reverse link std::set to symbol_set--><path d="M781.5,382.9 C781.5,418.48 781.5,484.49 781.5,522.34 " fill="none" id="std::set&lt;-symbol_set" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="781.5,369.68,777.5,375.68,781.5,381.68,785.5,375.68,781.5,369.68" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="775.4688" y="389.9162">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="773.6906" y="510.9163">1</text><!--MD5=[92a7d1fad8a9d23f6de6e8a5524918e9]
reverse link symbol to symbol_table--><path d="M496.91,443.36 C489.88,459.68 482.65,476.44 476.06,491.73 " fill="none" id="symbol&lt;-symbol_table" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="502.24,431,496.1931,434.9287,497.4939,442.0215,503.5408,438.0928,502.24,431" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="493.7585" y="451.4508">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="471.7486" y="480.6085">1</text><!--MD5=[2c378af08eebd154e4a1246e15b1cfd5]
reverse link util::identifier_t to symbol_identifier_t--><path d="M1145.5,158.08 C1145.5,213.33 1145.5,299.86 1145.5,337.71 " fill="none" id="util::identifier_t&lt;-symbol_identifier_t" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1138.5,157.92,1145.5,137.92,1152.5,157.92,1138.5,157.92" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[41f75b7777a4050aacce50295b730ad6]
link constants::assoc_type to constants::case_type--><!--MD5=[675f78ba14d4381937cdf7ce19006ba7]
link constants::assoc_type to constants::symbol_type--><!--MD5=[ddd59ff055dd1f6a225471d697c8647d]
link constants::symbol_type to constants::pattern_type--><!--MD5=[91561e3c641b8aa1798cf171a06e4a7b]
@startuml
hide empty members
hide circle

set namespaceSeparator ::

class util::identifier_t <<dataType>> {
    + {static} get_next_id() -> id
}

class symbol_identifier_t <<dataType>>

class constants::assoc_type <<enum>> {
    undef
    left
    right
}

class constants::case_type <<enum>> {
    undef
    match
    fold
}

class constants::symbol_type <<enum>> {
    invalid
    terminal
    skip
    rule
}

class constants::pattern_type <<enum>> {
    undef
    string
    regex
}

class terminal_symbol {
    +id: symbol_identifier_t {id}
    +is_inline: bool
    +name: std::string_view
    +token_name : std::string_view
    type_str: st::string_view
    +pattern: std::string_view
    +action: std::string_view
    +associativity: assoc_type
    +precedence: ?int
    +case_match: case_type
    +pat_type: pattern_type
    +{static} create(t: terminal_stmt)
}

class skip_symbol {
    +id: symbol_identifier_t {id}
    +name: std:string_view
    +pattern: st::string_view
    +token_name : std::string_view
    +case_match: case_type
    +pat_type: pattern_type
    +{static} create(s: skip)
}

class rule_symbol {
    +id: symbol_identifier_t {id}
    +name: std:string_view
    +type_str: st::string_view
    +isgoal : bool

    +{static} create(r: rule_stmt)
}

class symbol_data <<variant>> {
    terminal_symbol
    rule_symbol
    skip_symbol
    +id() -> symbol_identifier_t {query}
    +name() -> std::string_view {query}
}

terminal_symbol - - symbol_data : <<uses>>
rule_symbol - - symbol_data : <<uses>>
skip_symbol - - symbol_data : <<uses>>

class symbol <<dataType>> {
    +id: symbol_identifier_t {query}
    -data: symbol_data*
    +name() -> std::string_view {query}
    +type() -> symbol_type {query}
    +typename() -> std:string_view {query}
    +get_data<T>() -> T* {query}
    +do_visit<T>(visitor: T&) -> ?
}

class symbol_table {
    -key_map: std::map<std::string, symbol>
    -id_map: std::map<identifier_t, symbol>
    +find(key :std::string_view) -> ?symbol {query}
    +find(id :symbol_identifier_t)-> ?symbol {query}
    +add<T>(key :std::string_view, t: T) -> (added :bool, sym : symbol)
    +register_key(key :std::string_view, s: symbol) -> (added :bool, sym : symbol)
}



class symbol_set {
    +contains(s:symbol) -> bool {query}
    +addset(ss:symbol_set) -> bool
}

symbol_data "1" <- "*" symbol
symbol "*" o- - "1" symbol_set
std::set "*" o- - "1" symbol_set
symbol "*" o- - "1" symbol_table

util::identifier_t <|- - symbol_identifier_t

@enduml

PlantUML version 1.2019.11(Sun Sep 22 06:02:15 EDT 2019)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13.0.1+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>